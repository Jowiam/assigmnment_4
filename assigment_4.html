<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="John-William Johnsen">
<meta name="dcterms.date" content="2023-04-02">

<title>task 4</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="assigment_4_files/libs/clipboard/clipboard.min.js"></script>
<script src="assigment_4_files/libs/quarto-html/quarto.js"></script>
<script src="assigment_4_files/libs/quarto-html/popper.min.js"></script>
<script src="assigment_4_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="assigment_4_files/libs/quarto-html/anchor.min.js"></script>
<link href="assigment_4_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="assigment_4_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="assigment_4_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="assigment_4_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="assigment_4_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">task 4</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>John-William Johnsen </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 2, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p><a href="https://github.com/Jowiam/assigmnment_4/blob/main/assigment_4.qmd">link to Github:</a> # Task. 1</p>
<p>For the last 3 months of 2017, calculate the total Sales by month, for Region 1 and Region 9 in the Customer_Segment, Corporate, and Consumer. This output is Table 1.</p>
<div class="cell">

</div>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">Region</th>
<th style="text-align: right;">Month</th>
<th style="text-align: left;">Customer segment</th>
<th style="text-align: right;">Total sales</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Region 1</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">Consumer</td>
<td style="text-align: right;">815.790</td>
</tr>
<tr class="even">
<td style="text-align: left;">Region 1</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">Corporate</td>
<td style="text-align: right;">295.060</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Region 1</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">Consumer</td>
<td style="text-align: right;">9480.470</td>
</tr>
<tr class="even">
<td style="text-align: left;">Region 1</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">Corporate</td>
<td style="text-align: right;">8564.840</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Region 1</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">Consumer</td>
<td style="text-align: right;">210.060</td>
</tr>
<tr class="even">
<td style="text-align: left;">Region 1</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">Corporate</td>
<td style="text-align: right;">13260.838</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Region 9</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">Consumer</td>
<td style="text-align: right;">5908.890</td>
</tr>
<tr class="even">
<td style="text-align: left;">Region 9</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">Corporate</td>
<td style="text-align: right;">16781.431</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Region 9</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">Consumer</td>
<td style="text-align: right;">192.330</td>
</tr>
<tr class="even">
<td style="text-align: left;">Region 9</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">Corporate</td>
<td style="text-align: right;">5463.130</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Region 9</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">Corporate</td>
<td style="text-align: right;">9377.647</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Make a plot of the monthly total Sales in Region 1 and Region 13 in 2015, 2016, and 2017. This output is Figure 1.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="assigment_4_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>In Figure 1, identify the months where the total Sales in Region 13 is greater than the total Sales in Region 1. This output is Table 2.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">month</th>
<th style="text-align: right;">year</th>
<th style="text-align: left;">date</th>
<th style="text-align: right;">Region 1</th>
<th style="text-align: right;">Region 13</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">jan</td>
<td style="text-align: right;">2016</td>
<td style="text-align: left;">2016-01-01</td>
<td style="text-align: right;">2362.43</td>
<td style="text-align: right;">10407.92</td>
</tr>
<tr class="even">
<td style="text-align: left;">feb</td>
<td style="text-align: right;">2016</td>
<td style="text-align: left;">2016-02-01</td>
<td style="text-align: right;">33085.29</td>
<td style="text-align: right;">55631.95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">mai</td>
<td style="text-align: right;">2016</td>
<td style="text-align: left;">2016-05-01</td>
<td style="text-align: right;">22068.67</td>
<td style="text-align: right;">22821.70</td>
</tr>
<tr class="even">
<td style="text-align: left;">jun</td>
<td style="text-align: right;">2015</td>
<td style="text-align: left;">2015-06-01</td>
<td style="text-align: right;">12844.97</td>
<td style="text-align: right;">32306.88</td>
</tr>
<tr class="odd">
<td style="text-align: left;">jun</td>
<td style="text-align: right;">2017</td>
<td style="text-align: left;">2017-06-01</td>
<td style="text-align: right;">10335.31</td>
<td style="text-align: right;">17430.46</td>
</tr>
<tr class="even">
<td style="text-align: left;">aug</td>
<td style="text-align: right;">2015</td>
<td style="text-align: left;">2015-08-01</td>
<td style="text-align: right;">2266.96</td>
<td style="text-align: right;">13985.22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">okt</td>
<td style="text-align: right;">2015</td>
<td style="text-align: left;">2015-10-01</td>
<td style="text-align: right;">11058.13</td>
<td style="text-align: right;">14885.24</td>
</tr>
<tr class="even">
<td style="text-align: left;">nov</td>
<td style="text-align: right;">2015</td>
<td style="text-align: left;">2015-11-01</td>
<td style="text-align: right;">13290.26</td>
<td style="text-align: right;">49685.99</td>
</tr>
<tr class="odd">
<td style="text-align: left;">des</td>
<td style="text-align: right;">2015</td>
<td style="text-align: left;">2015-12-01</td>
<td style="text-align: right;">11048.17</td>
<td style="text-align: right;">19514.99</td>
</tr>
<tr class="even">
<td style="text-align: left;">des</td>
<td style="text-align: right;">2016</td>
<td style="text-align: left;">2016-12-01</td>
<td style="text-align: right;">17020.27</td>
<td style="text-align: right;">26889.71</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Find the average Profit per Customer_Segment and Product_Category in 2017, for all regions except Region 3, 5 and 8. What segment produced the highest average profit? This output is Table 3.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">customer_segment</th>
<th style="text-align: left;">product_category</th>
<th style="text-align: right;">average_profit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Small Business</td>
<td style="text-align: left;">Technology</td>
<td style="text-align: right;">544.442933</td>
</tr>
<tr class="even">
<td style="text-align: left;">Corporate</td>
<td style="text-align: left;">Technology</td>
<td style="text-align: right;">413.915696</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home Office</td>
<td style="text-align: left;">Technology</td>
<td style="text-align: right;">271.119368</td>
</tr>
<tr class="even">
<td style="text-align: left;">Consumer</td>
<td style="text-align: left;">Technology</td>
<td style="text-align: right;">223.123188</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Corporate</td>
<td style="text-align: left;">Office Supplies</td>
<td style="text-align: right;">164.827620</td>
</tr>
<tr class="even">
<td style="text-align: left;">Consumer</td>
<td style="text-align: left;">Office Supplies</td>
<td style="text-align: right;">107.459323</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Small Business</td>
<td style="text-align: left;">Office Supplies</td>
<td style="text-align: right;">93.995230</td>
</tr>
<tr class="even">
<td style="text-align: left;">Home Office</td>
<td style="text-align: left;">Office Supplies</td>
<td style="text-align: right;">71.364500</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Consumer</td>
<td style="text-align: left;">Furniture</td>
<td style="text-align: right;">19.551912</td>
</tr>
<tr class="even">
<td style="text-align: left;">Small Business</td>
<td style="text-align: left;">Furniture</td>
<td style="text-align: right;">16.874722</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Home Office</td>
<td style="text-align: left;">Furniture</td>
<td style="text-align: right;">7.511408</td>
</tr>
<tr class="even">
<td style="text-align: left;">Corporate</td>
<td style="text-align: left;">Furniture</td>
<td style="text-align: right;">-88.222121</td>
</tr>
</tbody>
</table>
</div>
</div>
<section id="task.-2" class="level1">
<h1>Task. 2</h1>
<p>In this task, feel free to use any API or package/library that downloads the data to your session. Use code and download daily stock prices for Exxon Mobil Corporation (XOM), traded at NYSE. The Yahoo! Finance site is a convenient place to find <a href="https://finance.yahoo.com/quote/XOM?p=XOM&amp;.tsrc=fin-srch">the data</a> . Use the Adjusted closing price from January 4th 2010 as the starting date. And calculate the monthly average using trading volume as a weight, and save this variable as “exxon”. Use code to download the daily Brent Crude Oil Price from <a href="https://fred.stlouisfed.org/series/DCOILBRENTEU">FRED</a> from January 4th 2010 as the starting date. And calculate the monthly arithmetic average. Save the monthly arithmetic average values as “oil”. In both variables, take December 2022, or 2022:12 for shorthand as a last data point.</p>
<div class="cell">

</div>
<p>Plot both variables, i.e., exxon and oil ” in the same plot window. Here, the x-axis should be the “date” variable. Comment on the plots.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="assigment_4_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The stock market appears to have a closer correlation with the oil price after 2015. It seems that the market was not greatly impacted by the decrease in oil prices from 2014 to 2015. However, after that year, the market appears to have followed a similar trend as the price of a barrel of oil.</p>
<p>Now take “exxon” as a y-variable and “oil” as an x-variable.</p>
<p>Use R’s <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/lm">lm() function</a>. Set the variable on the y-axis and x-axis, and specify the data set.</p>
<p>LM(&lt;Y variable name&gt; ~ &lt;X variable&gt;, data=&lt;dataset name&gt;)</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="assigment_4_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>After “running” the code, how do you interpret the estimated coefficients?</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = exxon ~ oil, data = data_2)

Coefficients:
(Intercept)          oil  
    48.1373       0.1282  </code></pre>
</div>
</div>
<p>The intercept coefficient shows the predicted value of Exxon when oil is 0, which is unlikely. The slope coefficient of 0.1282 means that for each unit increase in oil price, Exxon’s value increases by 0.1282. This shows a positive relationship between oil prices and Exxon’s share price.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>